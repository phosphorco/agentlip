{"id":"bd-16d","title":"AgentChat Local Hub v1","description":"Tracking epic for implementing AGENTLIP_PLAN.md (AgentChat Local Hub v1, v0.2).","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-05T01:01:41.195075Z","created_by":"cole","updated_at":"2026-02-05T01:01:41.195075Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-16d.1","title":"Phase 0: Skeleton","description":"Plan ref: AGENTLIP_PLAN.md Chapter 7 (Roadmap).\n\nBuild: workspace discovery+init; schema apply (core + optional FTS); hub /health + lock + server.json.\nExit: Gate A passes; agentchatd status works.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-05T01:01:48.850918Z","created_by":"cole","updated_at":"2026-02-05T01:09:36.089238Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase0"],"dependencies":[{"issue_id":"bd-16d.1","depends_on_id":"bd-16d","type":"parent-child","created_at":"2026-02-05T01:01:48.850918Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.1","title":"Workspace discovery + init (.zulip/db.sqlite3)","description":"Plan ref: AGENTLIP_PLAN.md §4.1.\\n\\nImplement upward discovery from cwd to workspace root containing .zulip/db.sqlite3; enforce traversal boundary; init workspace state if missing.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.778498Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.778498Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase0","workspace"],"dependencies":[{"issue_id":"bd-16d.1.1","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.778498Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.10","title":"Hub: localhost-only bind validation (reject 0.0.0.0 by default)","description":"Plan ref: Gate J; §4.2 startup sequence step 7.\\n\\nBind to 127.0.0.1 / ::1 only; reject 0.0.0.0 unless explicitly unsafe.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.963513Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.963513Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase0","security"],"dependencies":[{"issue_id":"bd-16d.1.10","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.963513Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.11","title":"CLI: agentchatd status (server.json -> /health validation)","description":"Plan ref: §4.2 (agentchatd status).\\n\\nImplement status command reading server.json, calling /health, validating db_id, and printing status.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.980682Z","created_by":"cole","updated_at":"2026-02-05T01:04:27.090672Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","phase0"],"dependencies":[{"issue_id":"bd-16d.1.11","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.980682Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.1.11","depends_on_id":"bd-16d.1.7","type":"blocks","created_at":"2026-02-05T01:04:27.070538Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.1.11","depends_on_id":"bd-16d.1.9","type":"blocks","created_at":"2026-02-05T01:04:27.090647Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.12","title":"Gate A: DB + schema correctness","description":"Plan ref: §0.7 Gate A.\n\nCriteria:\n- schema initializes cleanly in empty workspace\n- optional FTS schema applies if supported; failure is non-fatal and detectable","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.997443Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.087560Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateA","phase0","tests"],"dependencies":[{"issue_id":"bd-16d.1.12","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.997443Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.1.12","depends_on_id":"bd-16d.1.2","type":"blocks","created_at":"2026-02-05T01:04:27.016064Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.1.12","depends_on_id":"bd-16d.1.3","type":"blocks","created_at":"2026-02-05T01:04:27.033803Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.1.12","depends_on_id":"bd-16d.1.5","type":"blocks","created_at":"2026-02-05T01:04:27.051589Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.1.12","depends_on_id":"bd-16d.6.1","type":"blocks","created_at":"2026-02-05T01:08:19.005397Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.2","title":"Kernel/SQLite: schema_v1.sql + meta init","description":"Plan ref: Part X / Kernel / SQLite.\\n\\nDeliver schema_v1.sql that initializes core tables + meta keys (db_id, schema_version, created_at).","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.802892Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.802892Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["kernel","phase0","sqlite"],"dependencies":[{"issue_id":"bd-16d.1.2","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.802892Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.3","title":"Kernel/SQLite: optional schema_v1_fts.sql (graceful fallback)","description":"Plan ref: Part X / Kernel / SQLite; Gate A.\\n\\nProvide optional FTS schema applied opportunistically; failures are non-fatal but detectable.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:04:26.823962Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.823962Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["fts","kernel","phase0","sqlite"],"dependencies":[{"issue_id":"bd-16d.1.3","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.823962Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.4","title":"Kernel/SQLite: migration scaffolding (meta.schema_version)","description":"Plan ref: Part X / Kernel / SQLite; §3.6 + §4.2 startup sequence.\\n\\nAdd forward-only migration runner using meta.schema_version + backup-before-apply.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:04:26.844242Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.844242Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["kernel","migrations","phase0","sqlite"],"dependencies":[{"issue_id":"bd-16d.1.4","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.844242Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.5","title":"Kernel/SQLite: DB open helper sets PRAGMAs (WAL, foreign_keys, busy_timeout)","description":"Plan ref: §3.4 WAL and small transactions; §4.2 startup sequence.\\n\\nEnsure DB connections set journal_mode=WAL, foreign_keys=ON, busy_timeout=5000, synchronous=NORMAL.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.865360Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.865360Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["kernel","phase0","sqlite"],"dependencies":[{"issue_id":"bd-16d.1.5","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.865360Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.6","title":"Hub: writer lock acquisition + stale lock handling","description":"Plan ref: §4.2 startup sequence step 4.\\n\\nAcquire .zulip/locks/writer.lock; if lock exists validate via /health using server.json; remove stale locks safely.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.884720Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.884720Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","ops","phase0"],"dependencies":[{"issue_id":"bd-16d.1.6","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.884720Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.7","title":"Hub: GET /health endpoint","description":"Plan ref: §4.2.\\n\\nImplement unauthenticated /health returning instance_id, db_id, schema_version, protocol_version, pid, uptime_seconds.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.904704Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.904704Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase0"],"dependencies":[{"issue_id":"bd-16d.1.7","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.904704Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.8","title":"Hub: auth token generation (>=128-bit crypto random)","description":"Plan ref: Gate J; §4.2 startup sequence step 6.\\n\\nGenerate/load auth token with >=128 bits entropy; never log token; store only in server.json.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.925770Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.925770Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase0","security"],"dependencies":[{"issue_id":"bd-16d.1.8","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.925770Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.1.9","title":"Hub: write server.json (chmod 0600; never log token)","description":"Plan ref: Gate J; §4.2 startup sequence step 8.\\n\\nWrite server.json atomically; verify mode 0600; include port, pid, instance_id; redact token from logs/errors.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-05T01:04:26.945680Z","created_by":"cole","updated_at":"2026-02-05T01:04:26.945680Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase0","security"],"dependencies":[{"issue_id":"bd-16d.1.9","depends_on_id":"bd-16d.1","type":"parent-child","created_at":"2026-02-05T01:04:26.945680Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2","title":"Phase 1: Core messaging + mutability","description":"Plan ref: AGENTLIP_PLAN.md Chapter 7 (Roadmap).\n\nBuild: channel/topic CRUD; send/edit/delete; events + WS replay/stream; CLI list/tail/page/listen.\nExit: Gates B,C,G,H pass; CLI JSONL listen works with reconnect.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-05T01:02:47.221335Z","created_by":"cole","updated_at":"2026-02-05T01:10:10.927751Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase1"],"dependencies":[{"issue_id":"bd-16d.2","depends_on_id":"bd-16d","type":"parent-child","created_at":"2026-02-05T01:02:47.221335Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2","depends_on_id":"bd-16d.1","type":"blocks","created_at":"2026-02-05T01:03:05.148013Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.1","title":"ADR-0003: Replay boundary codified in docs + tests","description":"Plan ref: Part X / ADRs; §0.6 decision 4; Gate C.\\n\\nDefine replay boundary semantics (replay_until handshake) in docs and assert with integration tests.","status":"open","priority":1,"issue_type":"docs","created_at":"2026-02-05T01:05:54.854335Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.928063Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["adr","phase1"],"dependencies":[{"issue_id":"bd-16d.2.1","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.854335Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.1","depends_on_id":"bd-16d.2.17","type":"related","created_at":"2026-02-05T01:05:55.928036Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.10","title":"Events: scope correctness for all event types","description":"Plan ref: Part X / Events (core).\\n\\nAudit each event type to ensure scope_channel_id/scope_topic_id/scope_topic_id2 are populated correctly.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.039700Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.039700Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["events","phase1"],"dependencies":[{"issue_id":"bd-16d.2.10","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.039700Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.11","title":"Events: dev-mode invariant assertions for scope population","description":"Plan ref: Part X / Events (core).\\n\\nAdd dev-mode assertions/guards that detect missing/invalid scopes before commit.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:05:55.059047Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.059047Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["devex","events","phase1"],"dependencies":[{"issue_id":"bd-16d.2.11","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.059047Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.12","title":"Hub: auth middleware for mutations + WS (constant-time compare)","description":"Plan ref: Part X / Hub daemon; Gate J.\\n\\nRequire auth token for mutations + WS; compare tokens in constant time; never echo token in errors/logs.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.079124Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.079124Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase1","security"],"dependencies":[{"issue_id":"bd-16d.2.12","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.079124Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.13","title":"Hub: rate limiting middleware (per-connection + global)","description":"Plan ref: Part X / Hub daemon; Gate J.\\n\\nImplement per-connection and global request rate limiting; return 429 RATE_LIMITED.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.099705Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.099705Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase1","security"],"dependencies":[{"issue_id":"bd-16d.2.13","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.099705Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.14","title":"Hub: input validation + size limits (msg<=64KB, attach<=16KB, WS<=256KB)","description":"Plan ref: Part X / Hub daemon; Gate J.\\n\\nValidate all inputs and enforce payload size limits for HTTP + WS.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.120535Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.120535Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase1","security"],"dependencies":[{"issue_id":"bd-16d.2.14","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.120535Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.15","title":"Hub: prepared statements for all SQL","description":"Plan ref: Part X / Hub daemon; Gate J.\\n\\nUse prepared/parameterized SQL everywhere; no string concatenation.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.141469Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.141469Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase1","security","sqlite"],"dependencies":[{"issue_id":"bd-16d.2.15","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.141469Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.16","title":"Hub: HTTP API endpoints v1","description":"Plan ref: Part X / Hub daemon; Chapter 5 API contracts.\\n\\nImplement v1 HTTP endpoints (channels/topics/messages/attachments + mutations).","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.161682Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.161682Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["api","hub","phase1"],"dependencies":[{"issue_id":"bd-16d.2.16","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.161682Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.17","title":"Hub: WS endpoint (hello handshake, replay boundary, live fanout, backpressure)","description":"Plan ref: Part X / Hub daemon; Gate C.\\n\\nImplement WS protocol: hello->replay_until; replay; live fanout; enforce backpressure (disconnect slow consumers).","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.181604Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.181604Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","phase1","ws"],"dependencies":[{"issue_id":"bd-16d.2.17","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.181604Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.18","title":"Hub: structured JSON logging (request_id, event_id; no tokens/full content)","description":"Plan ref: Part X / Hub daemon; Gate J.\\n\\nEmit structured logs with correlation IDs; redact tokens and message content.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:05:55.202478Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.202478Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","ops","phase1","security"],"dependencies":[{"issue_id":"bd-16d.2.18","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.202478Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.19","title":"Hub: graceful shutdown","description":"Plan ref: Part X / Hub daemon; §4.2 shutdown sequence.\\n\\nImplement graceful stop: drain requests, close WS, checkpoint WAL, close DB, remove locks/server.json.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:05:55.222837Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.222837Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["hub","ops","phase1"],"dependencies":[{"issue_id":"bd-16d.2.19","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.222837Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.2","title":"ADR-0008: Edit + tombstone delete implemented (no hard deletes)","description":"Plan ref: Part X / ADRs; §0.6 decisions 6-7; Gate H.\\n\\nImplement edit + tombstone delete semantics and ensure hard deletes are impossible.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:54.879993Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.948237Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["adr","messages","phase1"],"dependencies":[{"issue_id":"bd-16d.2.2","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.879993Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.2","depends_on_id":"bd-16d.2.6","type":"related","created_at":"2026-02-05T01:05:55.948209Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.20","title":"CLI: workspace discovery + DB read-only open","description":"Plan ref: Part X / CLI; §4.1 + §3.4.\\n\\nOpen SQLite read-only with PRAGMA query_only=ON; enforce workspace traversal boundary.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.243778Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.458061Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","phase1"],"dependencies":[{"issue_id":"bd-16d.2.20","depends_on_id":"bd-16d.1.1","type":"blocks","created_at":"2026-02-05T01:05:55.458036Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.20","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.243778Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.21","title":"CLI: read-only commands (channel/topic/msg/attachments/search)","description":"Plan ref: Part X / CLI.\\n\\nImplement read-only CLI queries using canonical SQL (channels/topics/tail/page/attachments/search).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:05:55.264532Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.499409Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","phase1"],"dependencies":[{"issue_id":"bd-16d.2.21","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.264532Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.21","depends_on_id":"bd-16d.2.20","type":"blocks","created_at":"2026-02-05T01:05:55.478585Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.21","depends_on_id":"bd-16d.2.3","type":"blocks","created_at":"2026-02-05T01:05:55.499378Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.22","title":"CLI: mutations via HTTP (send/edit/delete/retopic/attach)","description":"Plan ref: Part X / CLI.\\n\\nImplement mutation commands that call hub HTTP endpoints with auth token.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:05:55.285908Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.539690Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","phase1"],"dependencies":[{"issue_id":"bd-16d.2.22","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.285908Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.22","depends_on_id":"bd-16d.2.12","type":"blocks","created_at":"2026-02-05T01:05:55.539663Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.22","depends_on_id":"bd-16d.2.16","type":"blocks","created_at":"2026-02-05T01:05:55.519777Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.23","title":"CLI: listen via WS outputting JSONL","description":"Plan ref: Part X / CLI; Gate F.\\n\\nImplement listen that connects to WS, replays from after_event_id, emits JSONL envelopes, supports reconnect.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.307816Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.561073Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","phase1","ws"],"dependencies":[{"issue_id":"bd-16d.2.23","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.307816Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.23","depends_on_id":"bd-16d.2.17","type":"blocks","created_at":"2026-02-05T01:05:55.561040Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.24","title":"CLI: stable machine-readable error codes + schemas","description":"Plan ref: Part X / CLI; §0.8 Error Code Catalog.\\n\\nEnsure CLI and HTTP errors use stable codes and additive JSON shapes.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:05:55.328564Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.328564Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["api","cli","phase1"],"dependencies":[{"issue_id":"bd-16d.2.24","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.328564Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.25","title":"Gate B: mutation atomicity (state+event in one txn)","description":"Plan ref: §0.7 Gate B.\n\nCriteria:\n- every mutation commits state + event row(s) in the same SQLite transaction\n- failure injection proves: no state change without corresponding event row(s)","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.349944Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.113652Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateB","phase1","tests"],"dependencies":[{"issue_id":"bd-16d.2.25","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.349944Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.25","depends_on_id":"bd-16d.2.16","type":"blocks","created_at":"2026-02-05T01:05:55.583488Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.25","depends_on_id":"bd-16d.2.9","type":"blocks","created_at":"2026-02-05T01:05:55.604819Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.25","depends_on_id":"bd-16d.6.2","type":"blocks","created_at":"2026-02-05T01:08:19.037225Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.25","depends_on_id":"bd-16d.6.3","type":"blocks","created_at":"2026-02-05T01:08:19.062654Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.26","title":"Gate C: replay equivalence","description":"Plan ref: §0.7 Gate C.\n\nCriteria (given subscriptions S, after_event_id=k):\n- replay returns exactly events matching S with event_id > k, ascending\n- streaming thereafter produces no gaps (duplicates allowed; client dedupes)","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.371694Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.138937Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateC","phase1","tests"],"dependencies":[{"issue_id":"bd-16d.2.26","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.371694Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.26","depends_on_id":"bd-16d.2.17","type":"blocks","created_at":"2026-02-05T01:05:55.627081Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.26","depends_on_id":"bd-16d.2.3","type":"blocks","created_at":"2026-02-05T01:05:55.647946Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.26","depends_on_id":"bd-16d.6.2","type":"blocks","created_at":"2026-02-05T01:08:19.086886Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.26","depends_on_id":"bd-16d.6.7","type":"blocks","created_at":"2026-02-05T01:08:19.114328Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.27","title":"Gate G: optimistic concurrency correctness","description":"Plan ref: §0.7 Gate G.\n\nCriteria:\n- if expected_version provided and mismatched: return conflict\n- no DB change\n- no new events","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.394017Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.164681Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateG","phase1","tests"],"dependencies":[{"issue_id":"bd-16d.2.27","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.394017Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.27","depends_on_id":"bd-16d.2.7","type":"blocks","created_at":"2026-02-05T01:05:55.669538Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.27","depends_on_id":"bd-16d.2.8","type":"blocks","created_at":"2026-02-05T01:05:55.689725Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.27","depends_on_id":"bd-16d.6.8","type":"blocks","created_at":"2026-02-05T01:08:19.139092Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.28","title":"Gate H: tombstone delete semantics","description":"Plan ref: §0.7 Gate H.\n\nCriteria:\n- message row still exists after delete\n- deleted_at != NULL; deleted_by non-empty\n- content_raw tombstoned\n- message.deleted emitted exactly once\n- delete retry is idempotent (200, no new event)","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.414968Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.191099Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateH","phase1","tests"],"dependencies":[{"issue_id":"bd-16d.2.28","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.414968Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.28","depends_on_id":"bd-16d.2.5","type":"blocks","created_at":"2026-02-05T01:05:55.733243Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.28","depends_on_id":"bd-16d.2.6","type":"blocks","created_at":"2026-02-05T01:05:55.710432Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.28","depends_on_id":"bd-16d.6.8","type":"blocks","created_at":"2026-02-05T01:08:19.161543Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.29","title":"Gate J: security baseline","description":"Plan ref: §0.7 Gate J.\n\nSecurity baseline checklist:\n- auth token >=128-bit crypto random; stored with mode 0600\n- hub binds localhost only (reject 0.0.0.0 by default)\n- prepared statements for all SQL\n- rate limits enforced (per-connection + global)\n- input size limits enforced (msg<=64KB, attach<=16KB, WS<=256KB)\n- logs never contain auth tokens or full message content\n- plugin isolation: no write access to .zulip/\n- workspace config loaded only from discovered workspace root","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.435941Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.218423Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateJ","phase1","security","tests"],"dependencies":[{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.1.10","type":"blocks","created_at":"2026-02-05T01:05:55.799892Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.1.8","type":"blocks","created_at":"2026-02-05T01:05:55.756335Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.1.9","type":"blocks","created_at":"2026-02-05T01:05:55.777024Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.435941Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.2.12","type":"blocks","created_at":"2026-02-05T01:05:55.821356Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.2.13","type":"blocks","created_at":"2026-02-05T01:05:55.843741Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.2.14","type":"blocks","created_at":"2026-02-05T01:05:55.866552Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.2.15","type":"blocks","created_at":"2026-02-05T01:05:55.888613Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.2.18","type":"blocks","created_at":"2026-02-05T01:05:55.907040Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.6.14","type":"blocks","created_at":"2026-02-05T01:08:19.292146Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.2.29","depends_on_id":"bd-16d.6.4","type":"blocks","created_at":"2026-02-05T01:08:19.266974Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.3","title":"Kernel/SQLite: canonical read queries (channels/topics/tail/page/attachments/replay)","description":"Plan ref: Part X / Kernel / SQLite.\\n\\nImplement canonical read queries used by CLI+SDK, including replay query (index-backed).","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:54.898727Z","created_by":"cole","updated_at":"2026-02-05T01:05:54.898727Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["kernel","phase1","sqlite"],"dependencies":[{"issue_id":"bd-16d.2.3","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.898727Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.4","title":"Messages: add columns (edited_at, deleted_at, deleted_by, version)","description":"Plan ref: Part X / Messages (mutability).\\n\\nAdd schema columns to support edits + tombstone deletes + optimistic concurrency.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:54.918453Z","created_by":"cole","updated_at":"2026-02-05T01:05:54.918453Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["messages","phase1","sqlite"],"dependencies":[{"issue_id":"bd-16d.2.4","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.918453Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.5","title":"Messages/Events: triggers to forbid hard deletes + event mutation","description":"Plan ref: Part X / Messages (mutability).\\n\\nAdd triggers: forbid DELETE on messages; forbid UPDATE/DELETE on events.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:54.937217Z","created_by":"cole","updated_at":"2026-02-05T01:05:54.937217Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["events","messages","phase1","sqlite"],"dependencies":[{"issue_id":"bd-16d.2.5","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.937217Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.6","title":"Messages: PATCH operations (edit, tombstone delete, retopic)","description":"Plan ref: Part X / Messages (mutability); §4.5 + §4.4.\\n\\nImplement mutation handlers for edit/delete/retopic with single-txn state+event.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:54.956590Z","created_by":"cole","updated_at":"2026-02-05T01:05:54.956590Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["messages","phase1"],"dependencies":[{"issue_id":"bd-16d.2.6","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.956590Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.7","title":"Messages: conflict responses include current_version","description":"Plan ref: Part X / Messages (mutability); Gate G.\\n\\nOn expected_version mismatch: return 409 VERSION_CONFLICT with details.current_version.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:54.977346Z","created_by":"cole","updated_at":"2026-02-05T01:05:54.977346Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["api","messages","phase1"],"dependencies":[{"issue_id":"bd-16d.2.7","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.977346Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.8","title":"Messages: version increments on edit/delete/retopic","description":"Plan ref: Part X / Messages (mutability); §0.1.2 + §4.4/§4.5.\\n\\nEnsure messages.version increments on every successful mutation.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:54.998947Z","created_by":"cole","updated_at":"2026-02-05T01:05:54.998947Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["messages","phase1"],"dependencies":[{"issue_id":"bd-16d.2.8","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:54.998947Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.2.9","title":"Events: central insertEvent(name, scopes, entity, data) helper","description":"Plan ref: Part X / Events (core).\\n\\nCreate a single helper that inserts an event row with correct scopes and payload JSON.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:05:55.019057Z","created_by":"cole","updated_at":"2026-02-05T01:05:55.019057Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["events","phase1"],"dependencies":[{"issue_id":"bd-16d.2.9","depends_on_id":"bd-16d.2","type":"parent-child","created_at":"2026-02-05T01:05:55.019057Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3","title":"Phase 2: Retopic + attachments","description":"Plan ref: AGENTLIP_PLAN.md Chapter 7 (Roadmap).\n\nBuild: retopic modes + fanout correctness (same-channel); attachments API + CLI; built-in URL extractor with dedupe_key.\nExit: Gate D passes; attachment idempotency tests pass.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-05T01:02:50.599698Z","created_by":"cole","updated_at":"2026-02-05T01:10:10.973634Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase2"],"dependencies":[{"issue_id":"bd-16d.3","depends_on_id":"bd-16d","type":"parent-child","created_at":"2026-02-05T01:02:50.599698Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3","depends_on_id":"bd-16d.2","type":"blocks","created_at":"2026-02-05T01:03:05.169728Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.1","title":"ADR-0007: Attachment idempotency (dedupe_key + unique index)","description":"Plan ref: Part X / ADRs + Attachments; §0.6 decision 8.\\n\\nImplement attachment idempotency: dedupe_key unique index; retry-safe insert; emit event only on new insert.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:25.973345Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.239614Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["adr","attachments","phase2"],"dependencies":[{"issue_id":"bd-16d.3.1","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:25.973345Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.1","depends_on_id":"bd-16d.3.6","type":"blocks","created_at":"2026-02-05T01:06:26.218164Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.1","depends_on_id":"bd-16d.3.7","type":"blocks","created_at":"2026-02-05T01:06:26.239592Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.10","title":"Gate D: retopic fanout correctness","description":"Plan ref: §0.7 Gate D.\n\nCriteria:\n- subscribers to old topic, new topic, and parent channel receive retopic event\n- event includes old/new topic IDs and mode\n- cross-channel moves rejected (no events; DB unchanged)","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.174788Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.243310Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateD","phase2","tests"],"dependencies":[{"issue_id":"bd-16d.3.10","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.174788Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.10","depends_on_id":"bd-16d.3.2","type":"blocks","created_at":"2026-02-05T01:06:26.261044Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.10","depends_on_id":"bd-16d.3.4","type":"blocks","created_at":"2026-02-05T01:06:26.281973Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.10","depends_on_id":"bd-16d.3.5","type":"blocks","created_at":"2026-02-05T01:06:26.302609Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.10","depends_on_id":"bd-16d.6.10","type":"blocks","created_at":"2026-02-05T01:08:19.186334Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.11","title":"Tests: attachment idempotency (dedupe_key)","description":"Plan ref: Phase 2 exit criteria + Part X / Attachments.\\n\\nAdd tests verifying retry-safe dedupe behavior and event emission rules.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.196356Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.345451Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["attachments","phase2","tests"],"dependencies":[{"issue_id":"bd-16d.3.11","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.196356Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.11","depends_on_id":"bd-16d.3.6","type":"blocks","created_at":"2026-02-05T01:06:26.323634Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.3.11","depends_on_id":"bd-16d.3.7","type":"blocks","created_at":"2026-02-05T01:06:26.345428Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.2","title":"Retopic: selection queries (one/later/all)","description":"Plan ref: Part X / Retopic.\\n\\nImplement message selection semantics for retopic modes: one, later, all.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.000439Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.000439Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase2","retopic"],"dependencies":[{"issue_id":"bd-16d.3.2","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.000439Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.3","title":"Retopic: CLI guardrails (--mode all requires --force)","description":"Plan ref: Part X / Retopic.\\n\\nAdd UX guardrails for dangerous operations (e.g., --mode all requires --force).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.024312Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.024312Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","phase2","retopic"],"dependencies":[{"issue_id":"bd-16d.3.3","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.024312Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.4","title":"Retopic: emit message.moved_topic events (per-message)","description":"Plan ref: Part X / Retopic; §4.4.\\n\\nEmit message.moved_topic events with scopes covering channel + old topic + new topic (topic_id2).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.047662Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.047662Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["events","phase2","retopic"],"dependencies":[{"issue_id":"bd-16d.3.4","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.047662Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.5","title":"Retopic: enforce same-channel constraint (+ negative tests)","description":"Plan ref: Part X / Retopic; §0.6 decision 5; Gate D.\\n\\nReject cross-channel retopic with CROSS_CHANNEL_MOVE; add negative tests.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.068031Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.068031Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase2","retopic","tests"],"dependencies":[{"issue_id":"bd-16d.3.5","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.068031Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.6","title":"Attachments: implement dedupe_key with unique index","description":"Plan ref: Part X / Attachments; ADR-0007.\\n\\nAdd topic_attachments.dedupe_key and unique index ensuring idempotent inserts.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.089901Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.089901Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["attachments","phase2","sqlite"],"dependencies":[{"issue_id":"bd-16d.3.6","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.089901Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.7","title":"Attachments: insert semantics (dedupe returns existing row; no new event)","description":"Plan ref: Part X / Attachments.\\n\\nOn duplicate insert by dedupe_key: return existing attachment; do NOT emit topic.attachment_added event.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.111036Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.111036Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["attachments","phase2"],"dependencies":[{"issue_id":"bd-16d.3.7","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.111036Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.8","title":"Attachments: validate metadata (URL format, size limits, sanitize XSS payloads)","description":"Plan ref: Part X / Attachments; Gate J/UI safety.\\n\\nValidate/sanitize attachment metadata; enforce size limits; reject dangerous URL schemes.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.131520Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.131520Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["attachments","phase2","security"],"dependencies":[{"issue_id":"bd-16d.3.8","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.131520Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.3.9","title":"Attachments: built-in URL extractor (allowlist/blocklist)","description":"Plan ref: Part X / Attachments.\\n\\nImplement URL extraction from message content into topic_attachments with configurable allowlist/blocklist.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:26.153683Z","created_by":"cole","updated_at":"2026-02-05T01:06:26.153683Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["attachments","phase2","plugins"],"dependencies":[{"issue_id":"bd-16d.3.9","depends_on_id":"bd-16d.3","type":"parent-child","created_at":"2026-02-05T01:06:26.153683Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4","title":"Phase 3: Plugin system v1","description":"Plan ref: AGENTLIP_PLAN.md Chapter 7 (Roadmap).\n\nBuild: zulip.config.ts loading; Worker isolation + timeouts + circuit breaker; linkifier -> message.enriched; extractor -> topic.attachment_added.\nExit: Gates E and I pass.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-05T01:02:53.811768Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.007885Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase3"],"dependencies":[{"issue_id":"bd-16d.4","depends_on_id":"bd-16d","type":"parent-child","created_at":"2026-02-05T01:02:53.811768Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4","depends_on_id":"bd-16d.3","type":"blocks","created_at":"2026-02-05T01:03:05.190637Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.1","title":"ADR-0005: Plugin isolation finalized (Worker defaults)","description":"Plan ref: Part X / ADRs + Plugin system; §0.6 decision 9.\\n\\nFinalize isolation mechanism (Bun Worker defaults) and document rationale + constraints.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:06:46.491400Z","created_by":"cole","updated_at":"2026-02-05T01:06:46.711451Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["adr","phase3","plugins"],"dependencies":[{"issue_id":"bd-16d.4.1","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.491400Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4.1","depends_on_id":"bd-16d.4.3","type":"blocks","created_at":"2026-02-05T01:06:46.689669Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4.1","depends_on_id":"bd-16d.4.4","type":"blocks","created_at":"2026-02-05T01:06:46.711428Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.2","title":"Plugin system: zulip.config.ts loader + schema validation","description":"Plan ref: Part X / Plugin system; Gate J.\\n\\nLoad zulip.config.ts only from workspace root; validate config schema; protect against path traversal.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:46.518574Z","created_by":"cole","updated_at":"2026-02-05T01:06:46.518574Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase3","plugins","security"],"dependencies":[{"issue_id":"bd-16d.4.2","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.518574Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.3","title":"Plugin system: Worker runtime harness (RPC, timeouts, circuit breaker)","description":"Plan ref: Part X / Plugin system; Gate E.\\n\\nProvide plugin execution harness with RPC, wall-clock timeouts, and circuit breaker after repeated failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:46.539189Z","created_by":"cole","updated_at":"2026-02-05T01:06:46.539189Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase3","plugins"],"dependencies":[{"issue_id":"bd-16d.4.3","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.539189Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.4","title":"Plugin system: enforce isolation (no write access to .zulip/)","description":"Plan ref: Part X / Plugin system; Gate J.\\n\\nEnsure plugins cannot write to .zulip/ (db.sqlite3, server.json, locks).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:46.560694Z","created_by":"cole","updated_at":"2026-02-05T01:06:46.560694Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase3","plugins","security"],"dependencies":[{"issue_id":"bd-16d.4.4","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.560694Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.5","title":"Plugins: linkifiers -> derived rows + message.enriched","description":"Plan ref: Part X / Plugin system.\\n\\nImplement linkifier plugins that write derived rows and emit message.enriched.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:06:46.581059Z","created_by":"cole","updated_at":"2026-02-05T01:06:46.581059Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase3","plugins"],"dependencies":[{"issue_id":"bd-16d.4.5","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.581059Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.6","title":"Plugins: extractors -> attachments + topic.attachment_added","description":"Plan ref: Part X / Plugin system.\\n\\nImplement extractor plugins that insert attachments and emit topic.attachment_added.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:06:46.602222Z","created_by":"cole","updated_at":"2026-02-05T01:06:46.602222Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["attachments","phase3","plugins"],"dependencies":[{"issue_id":"bd-16d.4.6","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.602222Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.7","title":"Derived jobs: staleness guard (verify content + deleted_at before commit)","description":"Plan ref: Part X / Plugin system; §4.6; Gate I.\\n\\nBefore persisting derived outputs: re-read messages.content_raw + deleted_at in same txn; discard outputs if changed/tombstoned.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:46.624240Z","created_by":"cole","updated_at":"2026-02-05T01:06:46.624240Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["correctness","phase3","plugins"],"dependencies":[{"issue_id":"bd-16d.4.7","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.624240Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.8","title":"Gate E: plugin safety (timeouts; hub continues ingesting)","description":"Plan ref: §0.7 Gate E.\n\nCriteria:\n- plugin hangs bounded by timeout; hub continues ingesting messages\n- plugin failures logged; do not crash hub","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:46.646649Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.268594Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateE","phase3","tests"],"dependencies":[{"issue_id":"bd-16d.4.8","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.646649Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4.8","depends_on_id":"bd-16d.4.3","type":"blocks","created_at":"2026-02-05T01:06:46.733324Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4.8","depends_on_id":"bd-16d.4.4","type":"blocks","created_at":"2026-02-05T01:06:46.753561Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4.8","depends_on_id":"bd-16d.6.3","type":"blocks","created_at":"2026-02-05T01:08:19.212759Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.4.9","title":"Gate I: derived job staleness protection","description":"Plan ref: §0.7 Gate I.\n\nCriteria:\n- if message edited/deleted while job running: job must not commit stale derived rows\n- job must not emit derived events for old content","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:06:46.668340Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.292486Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateI","phase3","tests"],"dependencies":[{"issue_id":"bd-16d.4.9","depends_on_id":"bd-16d.4","type":"parent-child","created_at":"2026-02-05T01:06:46.668340Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4.9","depends_on_id":"bd-16d.4.7","type":"blocks","created_at":"2026-02-05T01:06:46.774651Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.4.9","depends_on_id":"bd-16d.6.9","type":"blocks","created_at":"2026-02-05T01:08:19.238010Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5","title":"Phase 4: Minimal UI + SDK polish","description":"Plan ref: AGENTLIP_PLAN.md Chapter 7 (Roadmap).\n\nBuild: /ui browsing + live updates; @agentchat/client; docs + examples.\nExit: Gate F passes; end-to-end demo script works.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-05T01:02:57.974943Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.039910Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4"],"dependencies":[{"issue_id":"bd-16d.5","depends_on_id":"bd-16d","type":"parent-child","created_at":"2026-02-05T01:02:57.974943Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5","depends_on_id":"bd-16d.4","type":"blocks","created_at":"2026-02-05T01:03:05.210032Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.1","title":"SDK: workspace discovery helper","description":"Plan ref: Part X / SDK; §4.1.\\n\\nProvide workspace discovery helper for Node/TS environments.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.427835Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.810330Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","sdk"],"dependencies":[{"issue_id":"bd-16d.5.1","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.427835Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.1","depends_on_id":"bd-16d.5.2","type":"related","created_at":"2026-02-05T01:07:17.810299Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.10","title":"UI: security headers (CSP, X-Frame-Options, X-Content-Type-Options)","description":"Plan ref: Part X / UI; Security baseline.\\n\\nServe UI with CSP and standard hardening headers.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.634795Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.634795Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","security","ui"],"dependencies":[{"issue_id":"bd-16d.5.10","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.634795Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.11","title":"UI: escape all user content before rendering","description":"Plan ref: Part X / UI.\\n\\nEnsure all message and attachment fields are escaped/sanitized prior to HTML rendering.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.656623Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.656623Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","security","ui"],"dependencies":[{"issue_id":"bd-16d.5.11","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.656623Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.12","title":"Docs: protocol (handshake, replay, event types, conflicts)","description":"Plan ref: Part X / Docs.\\n\\nDocument WS handshake, replay_until boundary, event envelope, conflict semantics.","status":"open","priority":3,"issue_type":"docs","created_at":"2026-02-05T01:07:17.681365Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.681365Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs","phase4"],"dependencies":[{"issue_id":"bd-16d.5.12","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.681365Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.13","title":"Docs: ops (startup, recovery, migrations, doctor)","description":"Plan ref: Part X / Docs.\\n\\nDocument startup/shutdown, lock staleness, migrations, doctor workflow, recovery.","status":"open","priority":3,"issue_type":"docs","created_at":"2026-02-05T01:07:17.706190Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.706190Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs","ops","phase4"],"dependencies":[{"issue_id":"bd-16d.5.13","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.706190Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.14","title":"Docs: security (threat model, token handling, plugin risks, safe defaults)","description":"Plan ref: Part X / Docs + §0.1.2 threat model section.\\n\\nWrite security doc covering trust boundaries, token rotation, plugin model/risks, privacy implications.","status":"open","priority":3,"issue_type":"docs","created_at":"2026-02-05T01:07:17.732044Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.732044Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs","phase4","security"],"dependencies":[{"issue_id":"bd-16d.5.14","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.732044Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.15","title":"Docs/Examples: multi-agent + human demo script","description":"Plan ref: Part X / Docs.\\n\\nProvide an end-to-end demo script exercising hub+CLI+SDK+UI.","status":"open","priority":3,"issue_type":"docs","created_at":"2026-02-05T01:07:17.757594Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.757594Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs","phase4"],"dependencies":[{"issue_id":"bd-16d.5.15","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.757594Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.16","title":"Gate F: CLI + SDK stability (machine interface)","description":"Plan ref: §0.7 Gate F.\n\nCriteria:\n- CLI JSON/JSONL output is versioned and additive-only\n- SDK reconnects indefinitely, making forward progress using stored event_id","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.784706Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.318240Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["gateF","phase4","tests"],"dependencies":[{"issue_id":"bd-16d.5.16","depends_on_id":"bd-16d.2.23","type":"blocks","created_at":"2026-02-05T01:07:17.927499Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.16","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.784706Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.16","depends_on_id":"bd-16d.5.3","type":"blocks","created_at":"2026-02-05T01:07:17.948747Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.16","depends_on_id":"bd-16d.5.4","type":"blocks","created_at":"2026-02-05T01:07:17.970239Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.16","depends_on_id":"bd-16d.6.2","type":"blocks","created_at":"2026-02-05T01:08:19.318340Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.2","title":"SDK: read server.json + validate via /health","description":"Plan ref: Part X / SDK; §4.2.\\n\\nRead server.json, call /health, validate db_id/schema_version/protocol_version before use.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.457382Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.836079Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","sdk"],"dependencies":[{"issue_id":"bd-16d.5.2","depends_on_id":"bd-16d.1.7","type":"blocks","created_at":"2026-02-05T01:07:17.836052Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.2","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.457382Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.3","title":"SDK: WS connect with replay + reconnect loop","description":"Plan ref: Part X / SDK; Gate F.\\n\\nConnect to WS with after_event_id; handle disconnects; resume indefinitely making forward progress.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.481180Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.860347Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","sdk","ws"],"dependencies":[{"issue_id":"bd-16d.5.3","depends_on_id":"bd-16d.2.17","type":"blocks","created_at":"2026-02-05T01:07:17.860325Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.3","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.481180Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.4","title":"SDK: async iterator yielding typed event envelopes","description":"Plan ref: Part X / SDK.\\n\\nExpose AsyncIterable<EventEnvelope> with typed envelopes; additive-only schema.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.503882Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.503882Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","sdk"],"dependencies":[{"issue_id":"bd-16d.5.4","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.503882Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.5","title":"SDK: convenience mutation methods (send/edit/delete/retopic/attach)","description":"Plan ref: Part X / SDK.\\n\\nProvide typed helpers that call hub HTTP endpoints and return typed results.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.526311Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.883132Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","sdk"],"dependencies":[{"issue_id":"bd-16d.5.5","depends_on_id":"bd-16d.2.16","type":"blocks","created_at":"2026-02-05T01:07:17.883109Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.5","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.526311Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.6","title":"UI: channels/topics/messages views","description":"Plan ref: Part X / UI.\\n\\nImplement basic browsing UI for channels/topics/messages.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.549087Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.549087Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","ui"],"dependencies":[{"issue_id":"bd-16d.5.6","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.549087Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.7","title":"UI: tombstone + edit indicators","description":"Plan ref: Part X / UI.\\n\\nDisplay edited/deleted state clearly; never render deleted content as if live.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.569287Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.569287Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","ui"],"dependencies":[{"issue_id":"bd-16d.5.7","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.569287Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.8","title":"UI: attachments pane (sanitize URLs; validate before rendering)","description":"Plan ref: Part X / UI; Gate J.\\n\\nRender attachments safely: sanitize/escape metadata; validate URL schemes; avoid XSS.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.591248Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.591248Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","security","ui"],"dependencies":[{"issue_id":"bd-16d.5.8","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.591248Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.5.9","title":"UI: live updates via WS","description":"Plan ref: Part X / UI.\\n\\nSubscribe via WS and update UI incrementally; handle reconnect and replay.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:07:17.612670Z","created_by":"cole","updated_at":"2026-02-05T01:07:17.905431Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase4","ui","ws"],"dependencies":[{"issue_id":"bd-16d.5.9","depends_on_id":"bd-16d.2.17","type":"blocks","created_at":"2026-02-05T01:07:17.905409Z","created_by":"cole","metadata":"{}","thread_id":""},{"issue_id":"bd-16d.5.9","depends_on_id":"bd-16d.5","type":"parent-child","created_at":"2026-02-05T01:07:17.612670Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6","title":"Testing & CI","description":"Plan ref: Part X / Testing & CI.\n\nOwns harness, CI matrix, and comprehensive edge-case suites backing Gates A–J.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-05T01:08:18.436912Z","created_by":"cole","updated_at":"2026-02-05T01:10:11.064925Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["ci","tests"],"dependencies":[{"issue_id":"bd-16d.6","depends_on_id":"bd-16d","type":"parent-child","created_at":"2026-02-05T01:08:18.436912Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.1","title":"Tests: unit tests for schema + query contracts","description":"Plan ref: Part X / Testing & CI.\\n\\nAdd unit tests asserting schema initialization and query contract invariants (incl FTS on/off where possible).","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:08:18.513980Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.513980Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["sqlite","tests"],"dependencies":[{"issue_id":"bd-16d.6.1","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.513980Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.10","title":"Edge cases: retopic suite","description":"Plan ref: Part X / Edge case test suite (Retopic edge cases).\\n\\nCover idempotent retopic-to-same, tombstoned moves, stale version conflicts, 10k moves, cross-channel attempts.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.838320Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.838320Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","retopic","tests"],"dependencies":[{"issue_id":"bd-16d.6.10","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.838320Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.11","title":"Edge cases: operational suite","description":"Plan ref: Part X / Edge case test suite (Operational edge cases).\\n\\nCover disk exhaustion, WAL growth, permission errors, fd exhaustion, port in use, multi-hub lock race, migration failure, corruption.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-05T01:08:18.867505Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.867505Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","ops","tests"],"dependencies":[{"issue_id":"bd-16d.6.11","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.867505Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.12","title":"Edge cases: event log integrity suite","description":"Plan ref: Part X / Edge case test suite (Event log integrity).\\n\\nCover monotonic IDs, immutability triggers, and scope audits.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.896642Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.896642Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","events","tests"],"dependencies":[{"issue_id":"bd-16d.6.12","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.896642Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.13","title":"Edge cases: rate limiting suite","description":"Plan ref: Part X / Edge case test suite (Rate limiting).\\n\\nVerify per-connection and global windows + reset behavior.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.926765Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.926765Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","security","tests"],"dependencies":[{"issue_id":"bd-16d.6.13","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.926765Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.14","title":"Edge cases: security boundary suite","description":"Plan ref: Part X / Edge case test suite (Security boundary tests).\\n\\nCover SQLi attempts, oversized payloads, token leakage, server.json perms, localhost bind, plugin write attempts, workspace traversal.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.953290Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.953290Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","security","tests"],"dependencies":[{"issue_id":"bd-16d.6.14","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.953290Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.15","title":"Edge cases: migration suite","description":"Plan ref: Part X / Edge case test suite (Migration edge cases).\\n\\nCover upgrade success, downgrade refusal, migration rollback on failure, concurrent hub start.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.978469Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.978469Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","migrations","tests"],"dependencies":[{"issue_id":"bd-16d.6.15","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.978469Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.2","title":"Tests: integration harness (temp workspace + hub + WS client)","description":"Plan ref: Part X / Testing & CI.\\n\\nBuild harness to spin up temp workspace, run hub, and connect a WS client for replay/live assertions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:08:18.558329Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.558329Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["integration","tests"],"dependencies":[{"issue_id":"bd-16d.6.2","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.558329Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.3","title":"Tests: failure injection (plugin hang, WS slow consumer, conflict)","description":"Plan ref: Part X / Testing & CI.\\n\\nAdd failure injection scenarios for timeouts, slow consumers/backpressure, and optimistic concurrency conflicts.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.589869Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.589869Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["integration","tests"],"dependencies":[{"issue_id":"bd-16d.6.3","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.589869Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.4","title":"Tests: security baseline suite (rate limits, size limits, SQLi, token leakage, perms, bind, plugin isolation, discovery boundary)","description":"Plan ref: Part X / Testing & CI (Security tests) + Gate J.\\n\\nImplement the enumerated security test checklist from the plan.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-05T01:08:18.619505Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.619505Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["security","tests"],"dependencies":[{"issue_id":"bd-16d.6.4","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.619505Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.5","title":"CI: matrix with FTS on/off","description":"Plan ref: Part X / Testing & CI.\\n\\nRun CI in both configurations (FTS available/unavailable) and ensure graceful fallback behavior is tested.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.647867Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.647867Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["ci"],"dependencies":[{"issue_id":"bd-16d.6.5","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.647867Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.6","title":"Edge cases: transaction and crash safety suite","description":"Plan ref: Part X / Edge case test suite (Transaction and crash safety).\\n\\nCover: disk full, lock timeout, WAL checkpoint failure, kill -9 during txn, corruption detection.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.695005Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.695005Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","tests"],"dependencies":[{"issue_id":"bd-16d.6.6","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.695005Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.7","title":"Edge cases: WebSocket delivery guarantees suite","description":"Plan ref: Part X / Edge case test suite (WebSocket delivery guarantees).\\n\\nCover: disconnect mid-replay, boundary semantics, mid-batch failure, stale client pagination, clock skew, hub restart.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.737095Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.737095Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","tests","ws"],"dependencies":[{"issue_id":"bd-16d.6.7","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.737095Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.8","title":"Edge cases: concurrent mutations suite","description":"Plan ref: Part X / Edge case test suite (Concurrent mutations).\\n\\nCover edit/edit races, expected_version conflicts, edit/delete races, retopic concurrency, idempotent delete, overflow handling.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.767010Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.767010Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","tests"],"dependencies":[{"issue_id":"bd-16d.6.8","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.767010Z","created_by":"cole","metadata":"{}","thread_id":""}]}
{"id":"bd-16d.6.9","title":"Edge cases: plugin + derived data suite","description":"Plan ref: Part X / Edge case test suite (Plugin and derived data).\\n\\nCover ABA, TOCTOU, concurrent plugins, timeout, restart mid-plugin, version/content staleness guard.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-05T01:08:18.803896Z","created_by":"cole","updated_at":"2026-02-05T01:08:18.803896Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["edge","plugins","tests"],"dependencies":[{"issue_id":"bd-16d.6.9","depends_on_id":"bd-16d.6","type":"parent-child","created_at":"2026-02-05T01:08:18.803896Z","created_by":"cole","metadata":"{}","thread_id":""}]}
